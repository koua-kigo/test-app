<!-- Generated by SpecStory -->

# Merge new images and update database (2025-06-06 15:25:44)

_**User**_

Can you merge where appropriate the new images from and update the imageUrl field in the Current DB section?

---

_**Assistant**_



---

I'll help you update the restaurant image URLs by merging the new images with the current database. Let me first check the current working directory and then create a plan for updating the database.

---

```bash
pwd
```

```
î‚¶ ï…¹ î‚± ï¼ ~/Des/restaurant-passport-app î‚± on ï‡“ ï„¦ main *5 !5 ?10 î‚°
```

---



---

Now let me create a step-by-step plan and pseudocode for updating the restaurant images.

---

```diff
- 
+ # Restaurant Image Update Pseudocode
+ 
+ ## Objective
+ Update restaurant imageUrl fields in the database by matching restaurant names from the new images list with existing database entries.
+ 
+ ## Data Analysis
+ ### New Images Available (23 restaurants):
+ 1. Tono Pizzeria + Cheesesteaks
+ 2. 3 Squares Restaurant  
+ 3. Lotus
+ 4. Riviera Maya Cantina & Restaurant
+ 5. Brick & Bourbon
+ 6. Highlander Pub (Rush Creek Golf Club)
+ 7. Nautical Bowls
+ 8. Frankie's Chicago Style Pizza
+ 9. Pittsburgh Blue Steakhouse
+ 10. Lookout Bar & Grill
+ 11. Malone's Bar & Grill
+ 12. OMNI Brewing Company
+ 13. Broadway Pizza
+ 14. Granite City Food & Brewery
+ 15. Grackle
+ 16. Chanticlear Pizza
+ 17. Biaggi's Ristorante Italiano
+ 18. El Rodeo
+ 19. Paris Baguette
+ 20. Sawatdee
+ 21. Rojo Mexican Grill
+ 22. Pints & Paddle
+ 23. Paulie's
+ 
+ ### Current Database Entries (23 restaurants):
+ - All restaurants use placeholder images or old URLs
+ - Need to match by restaurant name (with variations)
+ 
+ ## Mapping Strategy
+ ```
+ FUNCTION mapRestaurantImages():
+   FOR each restaurant IN newImages:
+     currentDbEntry = findMatchingRestaurant(restaurant.name, currentDb)
+     IF currentDbEntry EXISTS:
+       updateMapping.add({
+         id: currentDbEntry.id,
+         currentUrl: currentDbEntry.imageUrl,
+         newUrl: restaurant.imageUrl,
+         name: restaurant.name
+       })
+ ```
+ 
+ ## Name Matching Logic
+ ```
+ FUNCTION findMatchingRestaurant(newName, database):
+   // Direct matches
+   FOR each entry IN database:
+     IF entry.name EQUALS newName:
+       RETURN entry
+     
+   // Partial matches (handle variations)
+   FOR each entry IN database:
+     IF entry.name CONTAINS core_keywords(newName):
+       RETURN entry
+       
+   // Special cases:
+   // "Highlander Pub (Rush Creek Golf Club)" -> "Highlander Pub at Rush Creek Golf Club"
+   // Handle slight naming variations
+ ```
+ 
+ ## Update Process
+ ```
+ FUNCTION updateRestaurantImages():
+   1. CONNECT to database (Supabase)
+   2. FOR each mapping IN updateMappings:
+     3. EXECUTE UPDATE restaurants 
+        SET imageUrl = mapping.newUrl 
+        WHERE id = mapping.id
+     4. LOG update success/failure
+   5. GENERATE summary report
+ ```
+ 
+ ## Implementation Steps
+ 1. Identify database connection method (Supabase client)
+ 2. Create mapping array of updates needed
+ 3. Execute batch update or individual updates
+ 4. Verify updates were successful
+ 5. Document changes made
+ 
+ ## Expected Matches (23 total):
+ All restaurants in the new images list should have corresponding entries in the current database, as the counts match exactly. 
```

---



---

Now let me explore the codebase to understand how to implement the database updates:

---

<details>
            <summary>Listed directory src/db â€¢ **7** results</summary>
        
| Name |
|-------|
| ğŸ“„ `storage.ts` |
| ğŸ“ `storage` |
| ğŸ“„ `db.ts` |
| ğŸ“ `supabase` |
| ğŸ“ `models` |
| ğŸ“„ `index.ts` |
| ğŸ“ `drizzle` |

</details>

---



---

<details>
            <summary>Listed directory src/db/models â€¢ **7** results</summary>
        
| Name |
|-------|
| ğŸ“„ `index.ts` |
| ğŸ“ `deals` |
| ğŸ“ `restaurants` |
| ğŸ“ `punch-cards` |
| ğŸ“ `leaderboard` |
| ğŸ“ `raffle-entries` |
| ğŸ“ `users` |

</details>

---



---

<details>
            <summary>Listed directory src/db/models/restaurants â€¢ **2** results</summary>
        
| Name |
|-------|
| ğŸ“„ `restaurants.ts` |
| ğŸ“„ `index.ts` |

</details>

---



---

Read file: src/db/models/restaurants/restaurants.ts

---



---

Read file: src/db/drizzle/schema.ts

---



---

<details>
            <summary>Listed directory scripts â€¢ **13** results</summary>
        
| Name |
|-------|
| ğŸ“ `supabase-batch` |
| ğŸ“„ `plus.png` |
| ğŸ“„ `example_prd.txt` |
| ğŸ“„ `README-task-master.md` |
| ğŸ“„ `README.md` |
| ğŸ“„ `dev.js` |
| ğŸ“„ `.DS_Store` |
| ğŸ“„ `final-restaurant-enricher.ts` |
| ğŸ“„ `firecrawl-extractor.js` |
| ğŸ“„ `hybrid-scraper.js` |
| ğŸ“„ `run-hybrid-scraper.sh` |
| ğŸ“„ `scrape-restaurants.js` |
| ğŸ“„ `run-scraper.sh` |

</details>

---



---

Read file: scripts/final-restaurant-enricher.ts

---



---

<details>
            <summary>Grep search for "import.*db|require.*db|db\.|supabase" â€¢ **0** files</summary>
        
No results found
</details>

---



---

<details>
            <summary>Listed directory scripts/supabase-batch â€¢ **6** results</summary>
        
| Name |
|-------|
| ğŸ“„ `setup.js` |
| ğŸ“„ `README.md` |
| ğŸ“„ `batch-create-punch-cards.js` |
| ğŸ“„ `batch-create-users.js` |
| ğŸ“„ `index.js` |
| ğŸ“„ `config.js` |

</details>

---



---

Read file: scripts/supabase-batch/config.js

---



---

Now I'll create a script to update the restaurant images. Let me create a comprehensive update script:

---

```diff
- 
+ #!/usr/bin/env tsx
+ 
+ import { updateRestaurant, getRestaurants } from "../src/db/models/restaurants/restaurants";
+ 
+ // New image URLs mapping
+ const imageUpdates = [
+   { name: "Tono Pizzeria + Cheesesteaks", imageUrl: "https://s3-media0.fl.yelpcdn.com/bphoto/rDZ0fkKydPl31MNH8RxRHA/348s.jpg" },
+   { name: "3 Squares Restaurant", imageUrl: "https://s3-media4.fl.yelpcdn.com/bphoto/EuLd_ohTxB1l2KuGTc-Mlg/ls.jpg" },
+   { name: "Lotus", imageUrl: "https://lh3.googleusercontent.com/places/AKR5kUij5ffubbjyKwe7Trx56GRCQXy4BrxWlr7iluoBcf9tt0TNcchtRrdjqnUhoDGoN91C23rvUUgfxrlQOKMjF8aAmiYAbtt8ui8=s1600-w300-h300" },
+   { name: "Riviera Maya Cantina & Restaurant", imageUrl: "https://lh5.googleusercontent.com/p/AF1QipPvOWEzooqF-oulaVpDjGNCd_pXJLWAH2IWuQSn=s1024" },
+   { name: "Brick & Bourbon", imageUrl: "https://s3-media0.fl.yelpcdn.com/bphoto/hgx4mcKShrOFNmTtzbaxMw/258s.jpg" },
+   { name: "Highlander Pub (Rush Creek Golf Club)", imageUrl: "https://www.rushcreek.com/images/building_image_2.jpg" },
+   { name: "Nautical Bowls", imageUrl: "https://s3-media0.fl.yelpcdn.com/bphoto/Jk1kL92LWSUCkOBbNZbAzw/l.jpg" },
+   { name: "Frankie's Chicago Style Pizza", imageUrl: "https://frankiespizza.com/wp-content/uploads/2024/08/frankies-chicago-style-pizza-maple-grove-minnesota-restaurant-patio.jpg" },
+   { name: "Pittsburgh Blue Steakhouse", imageUrl: "https://pittsburghbluesteak.com/wp-content/uploads/header-pbedina-exterior-1200-1024x683.jpg" },
+   { name: "Lookout Bar & Grill", imageUrl: "https://th.bing.com/th/id/OIP.Pn2pgm9W1fVLoiFkg7c_PAHaEK?r=0&rs=1&pid=ImgDetMain" },
+   { name: "Malone's Bar & Grill", imageUrl: "https://malonesbarandgrill.net/wp-content/uploads/2014/02/Maple-Grove-Bar-and-Grill-721-300x164.jpg" },
+   { name: "OMNI Brewing Company", imageUrl: "https://media-cdn.tripadvisor.com/media/photo-s/10/40/a7/6d/photo0jpg.jpg" },
+   { name: "Broadway Pizza", imageUrl: "https://img.hoodline.com/2024/4/maple-groves-broadway-bar-and-pizza-reopens-with-new-axe-throwing-feature-3.webp" },
+   { name: "Granite City Food & Brewery", imageUrl: "https://patch.com/img/cdn20/users/24075954/20220520/121311/styles/patch_image/public/granitecitybrewery___20113643437.png?width=1200" },
+   { name: "Grackle", imageUrl: "https://s3-media0.fl.yelpcdn.com/bphoto/7MFDuS8cA4UnvZTH3k0jfA/o.jpg" },
+   { name: "Chanticlear Pizza", imageUrl: "https://s3-media0.fl.yelpcdn.com/bphoto/4z0CRZT0T46Xpsjd323NZQ/258s.jpg" },
+   { name: "Biaggi's Ristorante Italiano", imageUrl: "https://biaggis.com/wp-content/uploads/LV-Exterior-Full.jpg" },
+   { name: "El Rodeo", imageUrl: "https://th.bing.com/th/id/OIP.p_GNb2PItLEEIzzIM8Xo6gHaFD?r=0&rs=1&pid=ImgDetMain" },
+   { name: "Paris Baguette", imageUrl: "https://th.bing.com/th/id/OIP.ozbJbuwdTmW8br127zqPYwHaFj?r=0&rs=1&pid=ImgDetMain" },
+   { name: "Sawatdee", imageUrl: "https://static.wixstatic.com/media/4e6ae0_78c4a2d6b9d24438bd27dfaa7b141981~mv2.png/v1/fit/w_554,h_416,q_90/4e6ae0_78c4a2d6b9d24438bd27dfaa7b141981~mv2.png" },
+   { name: "Rojo Mexican Grill", imageUrl: "https://resizer.otstatic.com/v2/photos/xlarge/2/60990214.webp" },
+   { name: "Pints & Paddle", imageUrl: "https://patch.com/img/cdn20/users/22887410/20221121/111529/styles/patch_image/public/pints-paddle-maple-grove-exterior-rendering___21105255017.jpg" },
+   { name: "Paulie's", imageUrl: "https://www.ugaminggroup.com/wp-content/uploads/2018/10/Paulie_s-Pub.jpg" }
+ ];
+ 
+ interface UpdateResult {
+   id: bigint;
+   name: string;
+   success: boolean;
+   oldUrl?: string;
+   newUrl?: string;
+   error?: string;
+ }
+ 
+ /**
+  * Find matching restaurant in database by name
+  * Handles variations in naming conventions
+  */
+ function findMatchingRestaurant(targetName: string, restaurants: any[]) {
+   // Direct name match
+   let match = restaurants.find(r => r.name === targetName);
+   if (match) return match;
+ 
+   // Handle specific naming variations
+   const nameVariations: { [key: string]: string[] } = {
+     "Highlander Pub (Rush Creek Golf Club)": ["Highlander Pub at Rush Creek Golf Club"],
+     "3 Squares Restaurant": ["3 Squares"],
+     "Frankie's Chicago Style Pizza": ["Frankie's Pizza"],
+     "Biaggi's Ristorante Italiano": ["Biaggi's"],
+     "Granite City Food & Brewery": ["Granite City"]
+   };
+ 
+   // Check variations
+   if (nameVariations[targetName]) {
+     for (const variation of nameVariations[targetName]) {
+       match = restaurants.find(r => r.name === variation);
+       if (match) return match;
+     }
+   }
+ 
+   // Partial match - check if database name contains key words from target
+   const targetWords = targetName.toLowerCase().split(/\s+/);
+   match = restaurants.find(r => {
+     const dbWords = r.name.toLowerCase().split(/\s+/);
+     return targetWords.some(word => dbWords.includes(word) && word.length > 3);
+   });
+ 
+   return match;
+ }
+ 
+ /**
+  * Main function to update restaurant images
+  */
+ async function updateRestaurantImages() {
+   console.log("ğŸš€ Starting restaurant image updates...");
+   
+   try {
+     // Get all restaurants from database
+     console.log("ğŸ“Š Fetching restaurants from database...");
+     const restaurants = await getRestaurants();
+     console.log(`Found ${restaurants.length} restaurants in database`);
+ 
+     const results: UpdateResult[] = [];
+     let successCount = 0;
+     let failureCount = 0;
+ 
+     // Process each image update
+     for (const imageUpdate of imageUpdates) {
+       console.log(`\nğŸ” Processing: ${imageUpdate.name}`);
+       
+       const restaurant = findMatchingRestaurant(imageUpdate.name, restaurants);
+       
+       if (!restaurant) {
+         console.log(`âŒ No matching restaurant found for: ${imageUpdate.name}`);
+         results.push({
+           id: BigInt(0),
+           name: imageUpdate.name,
+           success: false,
+           error: "No matching restaurant found"
+         });
+         failureCount++;
+         continue;
+       }
+ 
+       console.log(`âœ… Found match: ${restaurant.name} (ID: ${restaurant.id})`);
+       console.log(`ğŸ”„ Updating image URL...`);
+       console.log(`   Old: ${restaurant.imageUrl}`);
+       console.log(`   New: ${imageUpdate.imageUrl}`);
+ 
+       try {
+         await updateRestaurant(restaurant.id, { 
+           imageUrl: imageUpdate.imageUrl 
+         });
+         
+         console.log(`âœ… Successfully updated ${restaurant.name}`);
+         results.push({
+           id: restaurant.id,
+           name: restaurant.name,
+           success: true,
+           oldUrl: restaurant.imageUrl,
+           newUrl: imageUpdate.imageUrl
+         });
+         successCount++;
+         
+         // Add small delay to avoid overwhelming the database
+         await new Promise(resolve => setTimeout(resolve, 100));
+         
+       } catch (error) {
+         console.log(`âŒ Failed to update ${restaurant.name}: ${error}`);
+         results.push({
+           id: restaurant.id,
+           name: restaurant.name,
+           success: false,
+           oldUrl: restaurant.imageUrl,
+           newUrl: imageUpdate.imageUrl,
+           error: error instanceof Error ? error.message : String(error)
+         });
+         failureCount++;
+       }
+     }
+ 
+     // Summary report
+     console.log("\n" + "=".repeat(60));
+     console.log("ğŸ“‹ UPDATE SUMMARY");
+     console.log("=".repeat(60));
+     console.log(`Total restaurants processed: ${imageUpdates.length}`);
+     console.log(`âœ… Successful updates: ${successCount}`);
+     console.log(`âŒ Failed updates: ${failureCount}`);
+     
+     if (failureCount > 0) {
+       console.log("\nâŒ FAILED UPDATES:");
+       results
+         .filter(r => !r.success)
+         .forEach(r => {
+           console.log(`- ${r.name}: ${r.error}`);
+         });
+     }
+     
+     if (successCount > 0) {
+       console.log("\nâœ… SUCCESSFUL UPDATES:");
+       results
+         .filter(r => r.success)
+         .forEach(r => {
+           console.log(`- ${r.name} (ID: ${r.id})`);
+         });
+     }
+ 
+     console.log("\nğŸ‰ Restaurant image update process completed!");
+     
+   } catch (error) {
+     console.error("ğŸ’¥ Fatal error during update process:", error);
+     process.exit(1);
+   }
+ }
+ 
+ // Run the update script
+ if (require.main === module) {
+   updateRestaurantImages()
+     .then(() => process.exit(0))
+     .catch(error => {
+       console.error("ğŸ’¥ Script failed:", error);
+       process.exit(1);
+     });
+ }
+ 
+ export { updateRestaurantImages }; 
```

---



---

Now let me check how to run TypeScript scripts in this project:

---

Read file: package.json

---



---

Now let me run the update script using bun:

---

```bash
bun run scripts/update-restaurant-images.ts
```

```

ğŸ” Processing: Tono Pizzeria + Cheesesteaks
âœ… Found match: Tono Pizzeria + Cheesesteaks (ID: 239)
ğŸ”„ Updating image URL...
   Old: https://s3-media0.fl.yelpcdn.com/bphoto/rDZ0fkKydPl31MNH8RxRHA/348s.jpg
   New: https://s3-media0.fl.yelpcdn.com/bphoto/rDZ0fkKydPl31MNH8RxRHA/348s.jpg
âœ… Successfully updated Tono Pizzeria + Cheesesteaks

ğŸ” Processing: 3 Squares Restaurant
âœ… Found match: 3 Squares Restaurant (ID: 243)
ğŸ”„ Updating image URL...
   Old: https://media.canva.com/v2/image-resize/format:JPG/height:1600/quality:92/uri:ifs%3A%2F
%2F%2F33b61ea8-8127-4e99-b849-ac74ddef370c/watermark:F/width:1600?csig=AAAAAAAAAAAAAAAAAAAAABFW
qGwwB727l9Shu4LM0WEmCGBR2JN3mwrFs2KoDeTe&exp=1744666063&osig=AAAAAAAAAAAAAAAAAAAAACkrjQCnP6j_TL
UoIeBew4VfKGQsFukZnUXV7Xwp-rMZ&signer=media-rpc&x-canva-quality=screen_2x
   New: https://s3-media4.fl.yelpcdn.com/bphoto/EuLd_ohTxB1l2KuGTc-Mlg/ls.jpg
âœ… Successfully updated 3 Squares Restaurant

ğŸ” Processing: Lotus
âœ… Found match: Lotus (ID: 244)
ğŸ”„ Updating image URL...
   Old: https://www.lotusmaplegrove.com/wp-content/uploads/2023/11/uncleroger.jpg
   New: https://lh3.googleusercontent.com/places/AKR5kUij5ffubbjyKwe7Trx56GRCQXy4BrxWlr7iluoBcf
9tt0TNcchtRrdjqnUhoDGoN91C23rvUUgfxrlQOKMjF8aAmiYAbtt8ui8=s1600-w300-h300
âœ… Successfully updated Lotus

ğŸ” Processing: Riviera Maya Cantina & Restaurant
âœ… Found match: Riviera Maya Cantina & Restaurant (ID: 235)
ğŸ”„ Updating image URL...
   Old: https://res.cloudinary.com/spothopper/image/fetch/f_auto,q_70,c_fit,h_864/http://static
.spotapps.co/spots/54/0ed6e46ff84f01bde65718f39651eb/:original
   New: https://lh5.googleusercontent.com/p/AF1QipPvOWEzooqF-oulaVpDjGNCd_pXJLWAH2IWuQSn=s1024
âœ… Successfully updated Riviera Maya Cantina & Restaurant

ğŸ” Processing: Brick & Bourbon
âœ… Found match: Brick & Bourbon (ID: 234)
ğŸ”„ Updating image URL...
   Old: https://hvjiuuzpupgmckuyfahe.supabase.co/storage/v1/object/public/restaurants/logos/res
taurant-234-1749241636109.png
   New: https://s3-media0.fl.yelpcdn.com/bphoto/hgx4mcKShrOFNmTtzbaxMw/258s.jpg
âœ… Successfully updated Brick & Bourbon

ğŸ” Processing: Highlander Pub (Rush Creek Golf Club)
âœ… Found match: Highlander Pub at Rush Creek Golf Club (ID: 237)
ğŸ”„ Updating image URL...
   Old: https://fastly.picsum.photos/id/594/1280/720.jpg?hmac=LZfnLDvh3Etk5UD0T4giuXJDrv-rG7kMA
oHXMTI-LrU
   New: https://www.rushcreek.com/images/building_image_2.jpg
âœ… Successfully updated Highlander Pub at Rush Creek Golf Club

ğŸ” Processing: Nautical Bowls
âœ… Found match: Nautical Bowls (ID: 238)
ğŸ”„ Updating image URL...
   Old: https://fastly.picsum.photos/id/594/1280/720.jpg?hmac=LZfnLDvh3Etk5UD0T4giuXJDrv-rG7kMA
oHXMTI-LrU
   New: https://s3-media0.fl.yelpcdn.com/bphoto/Jk1kL92LWSUCkOBbNZbAzw/l.jpg
âœ… Successfully updated Nautical Bowls

ğŸ” Processing: Frankie's Chicago Style Pizza
âœ… Found match: Frankie's Chicago Style Pizza (ID: 233)
ğŸ”„ Updating image URL...
   Old: https://fastly.picsum.photos/id/594/1280/720.jpg?hmac=LZfnLDvh3Etk5UD0T4giuXJDrv-rG7kMA
oHXMTI-LrU
   New: https://frankiespizza.com/wp-content/uploads/2024/08/frankies-chicago-style-pizza-maple
-grove-minnesota-restaurant-patio.jpg
âœ… Successfully updated Frankie's Chicago Style Pizza

ğŸ” Processing: Pittsburgh Blue Steakhouse
âœ… Found match: Pittsburgh Blue Steakhouse (ID: 240)
ğŸ”„ Updating image URL...
   Old: https://hvjiuuzpupgmckuyfahe.supabase.co/storage/v1/object/public/photos//restaurant-1.
webp
   New: https://pittsburghbluesteak.com/wp-content/uploads/header-pbedina-exterior-1200-1024x68
3.jpg
âœ… Successfully updated Pittsburgh Blue Steakhouse

ğŸ” Processing: Lookout Bar & Grill
âœ… Found match: Lookout Bar & Grill (ID: 230)
ğŸ”„ Updating image URL...
   Old: https://fastly.picsum.photos/id/594/1280/720.jpg?hmac=LZfnLDvh3Etk5UD0T4giuXJDrv-rG7kMA
oHXMTI-LrU
   New: https://th.bing.com/th/id/OIP.Pn2pgm9W1fVLoiFkg7c_PAHaEK?r=0&rs=1&pid=ImgDetMain
âœ… Successfully updated Lookout Bar & Grill

ğŸ” Processing: Malone's Bar & Grill
âœ… Found match: Malone's Bar & Grill (ID: 229)
ğŸ”„ Updating image URL...
   Old: https://fastly.picsum.photos/id/594/1280/720.jpg?hmac=LZfnLDvh3Etk5UD0T4giuXJDrv-rG7kMA
oHXMTI-LrU
   New: https://malonesbarandgrill.net/wp-content/uploads/2014/02/Maple-Grove-Bar-and-Grill-721
-300x164.jpg
âœ… Successfully updated Malone's Bar & Grill

ğŸ” Processing: OMNI Brewing Company
âœ… Found match: OMNI Brewing Company (ID: 232)
ğŸ”„ Updating image URL...
   Old: https://fastly.picsum.photos/id/594/1280/720.jpg?hmac=LZfnLDvh3Etk5UD0T4giuXJDrv-rG7kMA
oHXMTI-LrU
   New: https://media-cdn.tripadvisor.com/media/photo-s/10/40/a7/6d/photo0jpg.jpg
âœ… Successfully updated OMNI Brewing Company

ğŸ” Processing: Broadway Pizza
âœ… Found match: Broadway Pizza (ID: 236)
ğŸ”„ Updating image URL...
   Old: https://fastly.picsum.photos/id/594/1280/720.jpg?hmac=LZfnLDvh3Etk5UD0T4giuXJDrv-rG7kMA
oHXMTI-LrU
   New: https://img.hoodline.com/2024/4/maple-groves-broadway-bar-and-pizza-reopens-with-new-ax
e-throwing-feature-3.webp
âœ… Successfully updated Broadway Pizza

ğŸ” Processing: Granite City Food & Brewery
âœ… Found match: Granite City Food & Brewery (ID: 242)
ğŸ”„ Updating image URL...
   Old: https://fastly.picsum.photos/id/594/1280/720.jpg?hmac=LZfnLDvh3Etk5UD0T4giuXJDrv-rG7kMA
oHXMTI-LrU
   New: https://patch.com/img/cdn20/users/24075954/20220520/121311/styles/patch_image/public/gr
anitecitybrewery___20113643437.png?width=1200
âœ… Successfully updated Granite City Food & Brewery

ğŸ” Processing: Grackle
âœ… Found match: Grackle (ID: 245)
ğŸ”„ Updating image URL...
   Old: https://fastly.picsum.photos/id/594/1280/720.jpg?hmac=LZfnLDvh3Etk5UD0T4giuXJDrv-rG7kMA
oHXMTI-LrU
   New: https://s3-media0.fl.yelpcdn.com/bphoto/7MFDuS8cA4UnvZTH3k0jfA/o.jpg
âœ… Successfully updated Grackle

ğŸ” Processing: Chanticlear Pizza
âœ… Found match: Chanticlear Pizza (ID: 250)
ğŸ”„ Updating image URL...
   Old: https://fastly.picsum.photos/id/594/1280/720.jpg?hmac=LZfnLDvh3Etk5UD0T4giuXJDrv-rG7kMA
oHXMTI-LrU
   New: https://s3-media0.fl.yelpcdn.com/bphoto/4z0CRZT0T46Xpsjd323NZQ/258s.jpg
âœ… Successfully updated Chanticlear Pizza

ğŸ” Processing: Biaggi's Ristorante Italiano
âœ… Found match: Biaggi's Ristorante Italiano (ID: 249)
ğŸ”„ Updating image URL...
   Old: https://biaggis.com/wp-content/uploads/2016/04/Maple-Grove_Bar_crop.jpg
   New: https://biaggis.com/wp-content/uploads/LV-Exterior-Full.jpg
âœ… Successfully updated Biaggi's Ristorante Italiano

ğŸ” Processing: El Rodeo
âœ… Found match: El Rodeo (ID: 247)
ğŸ”„ Updating image URL...
   Old: https://static.spotapps.co/website_images/ab_websites/70746_website_v1/logo.png
   New: https://th.bing.com/th/id/OIP.p_GNb2PItLEEIzzIM8Xo6gHaFD?r=0&rs=1&pid=ImgDetMain
âœ… Successfully updated El Rodeo

ğŸ” Processing: Paris Baguette
âœ… Found match: Paris Baguette (ID: 248)
ğŸ”„ Updating image URL...
   Old: https://media.canva.com/v2/image-resize/format:JPG/height:1600/quality:92/uri:ifs%3A%2F
%2F%2Fa564a8e4-9acc-4f9a-8b1b-ad7f52be17a7/watermark:F/width:1600?csig=AAAAAAAAAAAAAAAAAAAAAELM
vD-o2QQ-V-ch3X5tIVa39q_SGZxp0l_jAOTv0Ewh&exp=1744664980&osig=AAAAAAAAAAAAAAAAAAAAAFMJR2HY_b9z3f
3F2zsOVxipKZ5ziYggxLAF8EQ17psx&signer=media-rpc&x-canva-quality=screen_2x
   New: https://th.bing.com/th/id/OIP.ozbJbuwdTmW8br127zqPYwHaFj?r=0&rs=1&pid=ImgDetMain
âœ… Successfully updated Paris Baguette

ğŸ” Processing: Sawatdee
âœ… Found match: Sawatdee (ID: 246)
ğŸ”„ Updating image URL...
   Old: https://hvjiuuzpupgmckuyfahe.supabase.co/storage/v1/object/public/photos//restaurant-1.
webp
   New: https://static.wixstatic.com/media/4e6ae0_78c4a2d6b9d24438bd27dfaa7b141981~mv2.png/v1/f
it/w_554,h_416,q_90/4e6ae0_78c4a2d6b9d24438bd27dfaa7b141981~mv2.png
âœ… Successfully updated Sawatdee

ğŸ” Processing: Rojo Mexican Grill
âœ… Found match: Rojo Mexican Grill (ID: 228)
ğŸ”„ Updating image URL...
   Old: https://fastly.picsum.photos/id/594/1280/720.jpg?hmac=LZfnLDvh3Etk5UD0T4giuXJDrv-rG7kMA
oHXMTI-LrU
   New: https://resizer.otstatic.com/v2/photos/xlarge/2/60990214.webp
âœ… Successfully updated Rojo Mexican Grill

ğŸ” Processing: Pints & Paddle
âœ… Found match: Pints & Paddle (ID: 241)
ğŸ”„ Updating image URL...
   Old: https://fastly.picsum.photos/id/594/1280/720.jpg?hmac=LZfnLDvh3Etk5UD0T4giuXJDrv-rG7kMA
oHXMTI-LrU
   New: https://patch.com/img/cdn20/users/22887410/20221121/111529/styles/patch_image/public/pi
nts-paddle-maple-grove-exterior-rendering___21105255017.jpg
âœ… Successfully updated Pints & Paddle

ğŸ” Processing: Paulie's
âœ… Found match: Paulie's (ID: 231)
ğŸ”„ Updating image URL...
   Old: https://fastly.picsum.photos/id/594/1280/720.jpg?hmac=LZfnLDvh3Etk5UD0T4giuXJDrv-rG7kMA
oHXMTI-LrU
   New: https://www.ugaminggroup.com/wp-content/uploads/2018/10/Paulie_s-Pub.jpg
âœ… Successfully updated Paulie's

============================================================
ğŸ“‹ UPDATE SUMMARY
============================================================
Total restaurants processed: 23
âœ… Successful updates: 23
âŒ Failed updates: 0

âœ… SUCCESSFUL UPDATES:
- Tono Pizzeria + Cheesesteaks (ID: 239)
- 3 Squares Restaurant (ID: 243)
- Lotus (ID: 244)
- Riviera Maya Cantina & Restaurant (ID: 235)
- Brick & Bourbon (ID: 234)
- Highlander Pub at Rush Creek Golf Club (ID: 237)
- Nautical Bowls (ID: 238)
- Frankie's Chicago Style Pizza (ID: 233)
- Pittsburgh Blue Steakhouse (ID: 240)
- Lookout Bar & Grill (ID: 230)
- Malone's Bar & Grill (ID: 229)
- OMNI Brewing Company (ID: 232)
- Broadway Pizza (ID: 236)
- Granite City Food & Brewery (ID: 242)
- Grackle (ID: 245)
- Chanticlear Pizza (ID: 250)
- Biaggi's Ristorante Italiano (ID: 249)
- El Rodeo (ID: 247)
- Paris Baguette (ID: 248)
- Sawatdee (ID: 246)
- Rojo Mexican Grill (ID: 228)
- Pints & Paddle (ID: 241)
- Paulie's (ID: 231)

ğŸ‰ Restaurant image update process completed!

î‚¶ ï…¹ î‚± ï¼ ~/Des/restaurant-passport-app î‚± on ï‡“ ï„¦ main *5 !5 ?13 î‚° 
directory
__tests__/  drizzle/  node_modules/  plop-templates/  public/  scripts/  src/
```

---



---

The script appears to be running in the background. Let me check if it completed by running it again:

---

```bash
cd /Users/liamellis/Desktop/restaurant-passport-app && bun run scripts/update-restaurant-images.ts
```

```
î‚¶ ï…¹ î‚± ï¼ ~/Des/restaurant-passport-app î‚± on ï‡“ ï„¦ main *5 !5 ?13 î‚°
```

---



---

Let me run the update script again to see the current status:

---

```bash
bun scripts/update-restaurant-images.ts
```

```
Found 23 restaurants in database

ğŸ” Processing: Tono Pizzeria + Cheesesteaks
âœ… Found match: Tono Pizzeria + Cheesesteaks (ID: 239)
ğŸ”„ Updating image URL...
   Old: https://s3-media0.fl.yelpcdn.com/bphoto/rDZ0fkKydPl31MNH8RxRHA/348s.jpg
   New: https://s3-media0.fl.yelpcdn.com/bphoto/rDZ0fkKydPl31MNH8RxRHA/348s.jpg
âœ… Successfully updated Tono Pizzeria + Cheesesteaks

ğŸ” Processing: 3 Squares Restaurant
âœ… Found match: 3 Squares Restaurant (ID: 243)
ğŸ”„ Updating image URL...
   Old: https://s3-media4.fl.yelpcdn.com/bphoto/EuLd_ohTxB1l2KuGTc-Mlg/ls.jpg
   New: https://s3-media4.fl.yelpcdn.com/bphoto/EuLd_ohTxB1l2KuGTc-Mlg/ls.jpg
âœ… Successfully updated 3 Squares Restaurant

ğŸ” Processing: Lotus
âœ… Found match: Lotus (ID: 244)
ğŸ”„ Updating image URL...
   Old: https://lh3.googleusercontent.com/places/AKR5kUij5ffubbjyKwe7Trx56GRCQXy4BrxWlr7iluoBcf
9tt0TNcchtRrdjqnUhoDGoN91C23rvUUgfxrlQOKMjF8aAmiYAbtt8ui8=s1600-w300-h300
   New: https://lh3.googleusercontent.com/places/AKR5kUij5ffubbjyKwe7Trx56GRCQXy4BrxWlr7iluoBcf
9tt0TNcchtRrdjqnUhoDGoN91C23rvUUgfxrlQOKMjF8aAmiYAbtt8ui8=s1600-w300-h300
âœ… Successfully updated Lotus

ğŸ” Processing: Riviera Maya Cantina & Restaurant
âœ… Found match: Riviera Maya Cantina & Restaurant (ID: 235)
ğŸ”„ Updating image URL...
   Old: https://lh5.googleusercontent.com/p/AF1QipPvOWEzooqF-oulaVpDjGNCd_pXJLWAH2IWuQSn=s1024
   New: https://lh5.googleusercontent.com/p/AF1QipPvOWEzooqF-oulaVpDjGNCd_pXJLWAH2IWuQSn=s1024
âœ… Successfully updated Riviera Maya Cantina & Restaurant

ğŸ” Processing: Brick & Bourbon
âœ… Found match: Brick & Bourbon (ID: 234)
ğŸ”„ Updating image URL...
   Old: https://s3-media0.fl.yelpcdn.com/bphoto/hgx4mcKShrOFNmTtzbaxMw/258s.jpg
   New: https://s3-media0.fl.yelpcdn.com/bphoto/hgx4mcKShrOFNmTtzbaxMw/258s.jpg
âœ… Successfully updated Brick & Bourbon

ğŸ” Processing: Highlander Pub (Rush Creek Golf Club)
âœ… Found match: Highlander Pub at Rush Creek Golf Club (ID: 237)
ğŸ”„ Updating image URL...
   Old: https://www.rushcreek.com/images/building_image_2.jpg
   New: https://www.rushcreek.com/images/building_image_2.jpg
âœ… Successfully updated Highlander Pub at Rush Creek Golf Club

ğŸ” Processing: Nautical Bowls
âœ… Found match: Nautical Bowls (ID: 238)
ğŸ”„ Updating image URL...
   Old: https://s3-media0.fl.yelpcdn.com/bphoto/Jk1kL92LWSUCkOBbNZbAzw/l.jpg
   New: https://s3-media0.fl.yelpcdn.com/bphoto/Jk1kL92LWSUCkOBbNZbAzw/l.jpg
âœ… Successfully updated Nautical Bowls

ğŸ” Processing: Frankie's Chicago Style Pizza
âœ… Found match: Frankie's Chicago Style Pizza (ID: 233)
ğŸ”„ Updating image URL...
   Old: https://frankiespizza.com/wp-content/uploads/2024/08/frankies-chicago-style-pizza-maple
-grove-minnesota-restaurant-patio.jpg
   New: https://frankiespizza.com/wp-content/uploads/2024/08/frankies-chicago-style-pizza-maple
-grove-minnesota-restaurant-patio.jpg
âœ… Successfully updated Frankie's Chicago Style Pizza

ğŸ” Processing: Pittsburgh Blue Steakhouse
âœ… Found match: Pittsburgh Blue Steakhouse (ID: 240)
ğŸ”„ Updating image URL...
   Old: https://pittsburghbluesteak.com/wp-content/uploads/header-pbedina-exterior-1200-1024x68
3.jpg
   New: https://pittsburghbluesteak.com/wp-content/uploads/header-pbedina-exterior-1200-1024x68
3.jpg
âœ… Successfully updated Pittsburgh Blue Steakhouse

ğŸ” Processing: Lookout Bar & Grill
âœ… Found match: Lookout Bar & Grill (ID: 230)
ğŸ”„ Updating image URL...
   Old: https://th.bing.com/th/id/OIP.Pn2pgm9W1fVLoiFkg7c_PAHaEK?r=0&rs=1&pid=ImgDetMain
   New: https://th.bing.com/th/id/OIP.Pn2pgm9W1fVLoiFkg7c_PAHaEK?r=0&rs=1&pid=ImgDetMain
âœ… Successfully updated Lookout Bar & Grill

ğŸ” Processing: Malone's Bar & Grill
âœ… Found match: Malone's Bar & Grill (ID: 229)
ğŸ”„ Updating image URL...
   Old: https://malonesbarandgrill.net/wp-content/uploads/2014/02/Maple-Grove-Bar-and-Grill-721
-300x164.jpg
   New: https://malonesbarandgrill.net/wp-content/uploads/2014/02/Maple-Grove-Bar-and-Grill-721
-300x164.jpg
âœ… Successfully updated Malone's Bar & Grill

ğŸ” Processing: OMNI Brewing Company
âœ… Found match: OMNI Brewing Company (ID: 232)
ğŸ”„ Updating image URL...
   Old: https://media-cdn.tripadvisor.com/media/photo-s/10/40/a7/6d/photo0jpg.jpg
   New: https://media-cdn.tripadvisor.com/media/photo-s/10/40/a7/6d/photo0jpg.jpg
âœ… Successfully updated OMNI Brewing Company

ğŸ” Processing: Broadway Pizza
âœ… Found match: Broadway Pizza (ID: 236)
ğŸ”„ Updating image URL...
   Old: https://img.hoodline.com/2024/4/maple-groves-broadway-bar-and-pizza-reopens-with-new-ax
e-throwing-feature-3.webp
   New: https://img.hoodline.com/2024/4/maple-groves-broadway-bar-and-pizza-reopens-with-new-ax
e-throwing-feature-3.webp
âœ… Successfully updated Broadway Pizza

ğŸ” Processing: Granite City Food & Brewery
âœ… Found match: Granite City Food & Brewery (ID: 242)
ğŸ”„ Updating image URL...
   Old: https://patch.com/img/cdn20/users/24075954/20220520/121311/styles/patch_image/public/gr
anitecitybrewery___20113643437.png?width=1200
   New: https://patch.com/img/cdn20/users/24075954/20220520/121311/styles/patch_image/public/gr
anitecitybrewery___20113643437.png?width=1200
âœ… Successfully updated Granite City Food & Brewery

ğŸ” Processing: Grackle
âœ… Found match: Grackle (ID: 245)
ğŸ”„ Updating image URL...
   Old: https://s3-media0.fl.yelpcdn.com/bphoto/7MFDuS8cA4UnvZTH3k0jfA/o.jpg
   New: https://s3-media0.fl.yelpcdn.com/bphoto/7MFDuS8cA4UnvZTH3k0jfA/o.jpg
âœ… Successfully updated Grackle

ğŸ” Processing: Chanticlear Pizza
âœ… Found match: Chanticlear Pizza (ID: 250)
ğŸ”„ Updating image URL...
   Old: https://s3-media0.fl.yelpcdn.com/bphoto/4z0CRZT0T46Xpsjd323NZQ/258s.jpg
   New: https://s3-media0.fl.yelpcdn.com/bphoto/4z0CRZT0T46Xpsjd323NZQ/258s.jpg
âœ… Successfully updated Chanticlear Pizza

ğŸ” Processing: Biaggi's Ristorante Italiano
âœ… Found match: Biaggi's Ristorante Italiano (ID: 249)
ğŸ”„ Updating image URL...
   Old: https://biaggis.com/wp-content/uploads/LV-Exterior-Full.jpg
   New: https://biaggis.com/wp-content/uploads/LV-Exterior-Full.jpg
âœ… Successfully updated Biaggi's Ristorante Italiano

ğŸ” Processing: El Rodeo
âœ… Found match: El Rodeo (ID: 247)
ğŸ”„ Updating image URL...
   Old: https://th.bing.com/th/id/OIP.p_GNb2PItLEEIzzIM8Xo6gHaFD?r=0&rs=1&pid=ImgDetMain
   New: https://th.bing.com/th/id/OIP.p_GNb2PItLEEIzzIM8Xo6gHaFD?r=0&rs=1&pid=ImgDetMain
âœ… Successfully updated El Rodeo

ğŸ” Processing: Paris Baguette
âœ… Found match: Paris Baguette (ID: 248)
ğŸ”„ Updating image URL...
   Old: https://th.bing.com/th/id/OIP.ozbJbuwdTmW8br127zqPYwHaFj?r=0&rs=1&pid=ImgDetMain
   New: https://th.bing.com/th/id/OIP.ozbJbuwdTmW8br127zqPYwHaFj?r=0&rs=1&pid=ImgDetMain
âœ… Successfully updated Paris Baguette

ğŸ” Processing: Sawatdee
âœ… Found match: Sawatdee (ID: 246)
ğŸ”„ Updating image URL...
   Old: https://static.wixstatic.com/media/4e6ae0_78c4a2d6b9d24438bd27dfaa7b141981~mv2.png/v1/f
it/w_554,h_416,q_90/4e6ae0_78c4a2d6b9d24438bd27dfaa7b141981~mv2.png
   New: https://static.wixstatic.com/media/4e6ae0_78c4a2d6b9d24438bd27dfaa7b141981~mv2.png/v1/f
it/w_554,h_416,q_90/4e6ae0_78c4a2d6b9d24438bd27dfaa7b141981~mv2.png
âœ… Successfully updated Sawatdee

ğŸ” Processing: Rojo Mexican Grill
âœ… Found match: Rojo Mexican Grill (ID: 228)
ğŸ”„ Updating image URL...
   Old: https://resizer.otstatic.com/v2/photos/xlarge/2/60990214.webp
   New: https://resizer.otstatic.com/v2/photos/xlarge/2/60990214.webp
âœ… Successfully updated Rojo Mexican Grill

ğŸ” Processing: Pints & Paddle
âœ… Found match: Pints & Paddle (ID: 241)
ğŸ”„ Updating image URL...
   Old: https://patch.com/img/cdn20/users/22887410/20221121/111529/styles/patch_image/public/pi
nts-paddle-maple-grove-exterior-rendering___21105255017.jpg
   New: https://patch.com/img/cdn20/users/22887410/20221121/111529/styles/patch_image/public/pi
nts-paddle-maple-grove-exterior-rendering___21105255017.jpg
âœ… Successfully updated Pints & Paddle

ğŸ” Processing: Paulie's
âœ… Found match: Paulie's (ID: 231)
ğŸ”„ Updating image URL...
   Old: https://www.ugaminggroup.com/wp-content/uploads/2018/10/Paulie_s-Pub.jpg
   New: https://www.ugaminggroup.com/wp-content/uploads/2018/10/Paulie_s-Pub.jpg
âœ… Successfully updated Paulie's

============================================================
ğŸ“‹ UPDATE SUMMARY
============================================================
Total restaurants processed: 23
âœ… Successful updates: 23
âŒ Failed updates: 0

âœ… SUCCESSFUL UPDATES:
- Tono Pizzeria + Cheesesteaks (ID: 239)
- 3 Squares Restaurant (ID: 243)
- Lotus (ID: 244)
- Riviera Maya Cantina & Restaurant (ID: 235)
- Brick & Bourbon (ID: 234)
- Highlander Pub at Rush Creek Golf Club (ID: 237)
- Nautical Bowls (ID: 238)
- Frankie's Chicago Style Pizza (ID: 233)
- Pittsburgh Blue Steakhouse (ID: 240)
- Lookout Bar & Grill (ID: 230)
- Malone's Bar & Grill (ID: 229)
- OMNI Brewing Company (ID: 232)
- Broadway Pizza (ID: 236)
- Granite City Food & Brewery (ID: 242)
- Grackle (ID: 245)
- Chanticlear Pizza (ID: 250)
- Biaggi's Ristorante Italiano (ID: 249)
- El Rodeo (ID: 247)
- Paris Baguette (ID: 248)
- Sawatdee (ID: 246)
- Rojo Mexican Grill (ID: 228)
- Pints & Paddle (ID: 241)
- Paulie's (ID: 231)

ğŸ‰ Restaurant image update process completed!

î‚¶ ï…¹ î‚± ï¼ ~/Des/restaurant-passport-app î‚± on ï‡“ ï„¦ main *5 !5 ?13 î‚° 
directory
__tests__/  drizzle/  node_modules/  plop-templates/  public/  scripts/  src/
```

---



---

Let me create a simple verification script to check the current state of the restaurant images:

---

Cancelled

---

